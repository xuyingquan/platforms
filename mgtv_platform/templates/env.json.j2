{
  "label": "{{ label }}",
  "node": "{{ node_code }}",
  "service_ip": "{{ service_addr }}",
  "lan_ip": "{{ lan_addr }}",
  "cluster_servers": [
    {% for device in devices -%}
    {"ip": "{{ device.lan_addr }}", "disks": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]{% if device.myself %}, "myself": true{% endif %}}{%if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "disable_auth_health_check": true,
  "auth_servers": [
    {% for ag in auth_gateways -%}
    { "ip": "{{ ag.ip }}", "port": {{ ag.port }} {% if ag.backup %}, "backup": true{% endif %}}{%if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "hrb_servers": [
    {% for hrb in hrbs -%}
    { "ip": "{{ hrb.ip }}", "port": {{ hrb.port }} {% if hrb.backup %}, "backup": true{% endif %}}{%if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "redis": { "ip": "{{ redis.ip }}", "port": {{ redis.port }}, "auth": "" },
  "syslogs": {
    {% for syslog in syslogs -%}
      "{{ syslog.type }}": "{{ syslog.addr }}"{%if not loop.last %},{% endif %}
    {% endfor %}
  },
  {% if disable_auth -%}
  "disable_auth": true,
  {% endif -%}
  {% if disable_precise -%}
  "disable_precise": true,
  {% endif -%}
  "upstreams": [
  {% for upstream in upstreams -%}
  {"ip": "{{ upstream.ip }}", "port": {{ upstream.port }}, "weight": {{ upstream.weight }} {% if upstream.backup %}, "backup": true{% endif %}}{%if not loop.last %},{% endif %}
  {% endfor %}
  ]
}
